<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>語音練習｜溝通訓練卡</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="voice-page">
  <header class="app-header">
    <a href="index.html" class="back-link">← 回到首頁</a>
    <h1>語音練習</h1>
    <p class="app-subtitle">跟著聲音念一句，練習表達與節奏。</p>
  </header>

  <main class="voice-app">
    <!-- 模式切換：肯定語 / 繞口令 / 小故事 -->
    <section class="mode-tabs" aria-label="練習模式">
      <button class="mode-tab active" data-mode="affirmation">正面肯定語</button>
      <button class="mode-tab" data-mode="tongue">TTL 繞口令</button>
      <button class="mode-tab" data-mode="story">說故事跟讀</button>
    </section>

    <!-- 肯定語：主題分類 -->
    <section class="category-bar" data-visible-for="affirmation">
      <button class="category-pill active" data-category="money">💰 金錢富足</button>
      <button class="category-pill" data-category="love">💞 感情關係</button>
      <!-- 之後可以再加：自信 / 事業 / 療癒 等 -->
    </section>

    <!-- 其他模式之後要用也可以掛自己的分類列 -->
    <section class="category-bar" data-visible-for="tongue" hidden>
      <span class="category-label">繞口令主題（之後可細分）：</span>
      <span class="category-hint">目前先隨機練習。</span>
    </section>

    <section class="category-bar" data-visible-for="story" hidden>
      <span class="category-label">小故事段落：</span>
      <span class="category-hint">會用較短的句子方便跟讀。</span>
    </section>

    <!-- 主練習卡片（共用 UI） -->
    <section class="voice-card" aria-live="polite">
      <!-- 進度條 -->
      <div class="voice-progress">
        <div class="voice-progress-bar">
          <div class="voice-progress-fill" id="progressFill"></div>
        </div>
        <span class="voice-progress-text">
          <span id="currentIndex">1</span>/<span id="totalCount">1</span>
        </span>
      </div>

      <!-- 模式提醒 -->
      <p class="voice-hint" id="modeHint">跟著聲音一起念：</p>

      <!-- 句子本體 -->
      <div class="voice-sentence-bubble">
        <button id="playBtn" class="icon-btn" aria-label="播放語音">
          🔊
        </button>
        <p id="sentenceText" class="voice-sentence">
          輕輕深呼吸，準備開始練習。
        </p>
      </div>

      <!-- 操作：錄音＋下一句 -->
      <div class="voice-actions">
        <button id="recordBtn" class="primary-btn">
          🎙 開始跟讀
        </button>
        <button id="nextBtn" class="ghost-btn">
          下一句 →
        </button>
      </div>

      <!-- 回饋訊息 -->
      <p id="feedback" class="voice-feedback">
        按 🔊 播放，再跟著念一次，看看嘴巴說起來是什麼感覺。
      </p>

      <!-- 系統提示（例如瀏覽器不支援語音辨識）-->
      <p id="systemNotice" class="voice-system-notice"></p>
    </section>
  </main>

  <script src="voice.js"></script>
</body>
</html>
